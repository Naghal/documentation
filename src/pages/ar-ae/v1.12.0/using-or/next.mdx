ุนููุงู: "ุงุณุชุฎุฏุงู OpenReplay ูุน Next.js"
metaTitle: "ุฅุถุงูุฉ ูุญูู OpenReplay ุฅูู ุชุทุจูู Next.js ุงูุฎุงุต ุจู"
metaDescription: "ุชุนูู ููููุฉ ุงูุญุตูู ุนูู ุงููุญูู ุงูุนูู ุนูู ุชุทุจูู Next.js ุงูุฎุงุต ุจู"
---
ุงุณุชูุฑุงุฏ GoDeeperFooter ูู '~/components/go-deeper-footer.astro'

ุงูุญุตูู ุนูู ุงููุญูู ููุนูู ุนูู ุชุทุจูู Next.js ูููู ุจุณูุทุง ุฌุฏุง. ุจูุง ุฃู Next.js ูุนูู ุนูู ุฃุณุงุณ Reactุ ูุงูุนูููุฉ ูุดุงุจูุฉ ุฌุฏุงุ ูุงูุตุนูุจุฉ ุงูุฑุฆูุณูุฉ ุชุฃุชู ูู ุงููุฏุฑุฉ ุนูู ุงูุชูุฏูู ุงูุฌุงูุจู ุงูุฎุงุต ุจุฎุงุฏู Next.js.

ูุจูุฌุฑุฏ ูููู ูููููุฉ ุงูุนูู ูููููุฉ ุชุฑููุจ ุงูููุฏ ุงูุฎุงุต ุจุงูุนููู ูุฅูู ุณุชููู ุชุชุจุน ูุณุชุฎุฏููู ูู ูุญุธุฉ ูุงุญุฏุฉ.

## ุฅุถุงูุฉ ุดูุฑุฉ ุงูุชุชุจุน

ุจูููุง ููููู ุงูุญุตูู ุนูู ูุณุฎุฉ ูููุณุฎ ูุงููุตู ูุจุงุดุฑุฉ ูู ุงูููุตุฉ ุนูุฏ ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏุ ูุฅู ูุฐุง ุงูููุฏ ูููู ููููุง ุฌุฏุง ููู ุจุนุถ ุงูุฃุญูุงู ูุฏ ูุง ูุชุจุน ุฃูุถู ุงูููุงุฑุณุงุช ุงููุชููุนุฉ ูู ูุฑููู ุฃู ุดุฑูุชู.

ูุฐูู ุจุฏูุง ูู ุฐููุ ููููู ุฅูุดุงุก ูุฒูุฏ ุณูุงู ูุณูุญ ูุฌููุน ุงูููููุงุช ุงููุบููุฉ ุจูุ ุจุจุฏุก ุนูููุฉ ุงูุชุชุจุน:


```jsx
import { createContext } from "react"
import Tracker from '@openreplay/tracker';
import {v4 as uuidV4} from 'uuid'
import { useReducer } from "react"

export const TrackerContext = createContext()

function defaultGetUserId() {
   return uuidV4() 
}

function newTracker(config) {
    const getUserId = (config?.userIdEnabled && config?.getUserId) ? config.getUserId : defaultGetUserId
    let userId = null;

    const trackerConfig = {
        projectKey: config?.projectKey || process.env.NEXT_PUBLIC_OPENREPLAY_PROJECT_KEY
    }

    const tracker = new Tracker(trackerConfig);

    if(config?.userIdEnabled) {
        userId = getUserId()
        tracker.setUserID(userId)
    }
    return tracker

}

function reducer(state, action) {
        switch(action.type) {
            case 'init': {
                if(!state.tracker) {
                    console.log("Instantiaing the tracker for the first time...")
                    return {...state, tracker: newTracker(state.config)}
                }
                return state
            }
            case 'start': {
                console.log("Starting tracker...")
                state.tracker.start()
                return state
            }
        }
    }

export default function TrackerProvider({children, config = {}}) {
    let [state, dispatch] = useReducer(reducer, {tracker: null, config})
    let value = {
        startTracking: () => dispatch({type: 'start'}),
        initTracker: () => dispatch({type: 'init'})
    }

    return <TrackerContext.Provider value={value}>{children}</TrackerContext.Provider>
}
```


ูููุฑ ูุฐุง ุงููุฒูุฏ ูููุณุชุฎุฏููู ูุฌููุนุชูู ูู ุงูุฃุณุงููุจ:

- `initTracker`: ุงูุฐู ูุซุจุช ุงููุญูู ูุน ุงูุชูููู ุงูููุฏู.
- `startTracking`: ุงูุฐู ูุดุบู ุจุฏุก ุนูููุฉ ุงูุชุชุจุน.

ูุฃุฎุฐ ูุฐุง ุงููุฒูุฏ ุฃูุถูุง ุนูู "ูุงุฆู ุงูุชูููู" ุงูุฐู ููููู ุชูุณูุนู ูููุฒุงุช ูู ุงููุณุชูุจู. ูุฐุง ุงููุซุงู ููุถุญ ูู ููููุฉ ุชูููู ุ ุงุฎุชูุงุฑููุง ุ ุงููุฏุฑุฉ ุนูู ุชุญุฏูุฏ ุงููุณุชุฎุฏููู ุจุดูู ูุฑูุฏ. ููููู ุงุณุชุฎุฏุงู UUID ุงูุงูุชุฑุงุถู ุงูุฐู ุณูููู ูุฑูุฏูุง ููู ูุณุชุฎุฏู ูู ูุฑุฉ ูุฒูุฑูู ุงูุตูุญุฉ. ููููู ุจุฏูุง ูู ุฐูู ุชูุฏูู ุฏุงูุฉ `getUserId` ูุฎุตุตุฉ ูุฌุฒุก ูู ุงูุชูููู.

ุจุงุณุชุฎุฏุงู ุฏุงูุชู ุงููุฎุตุตุฉุ ููููู ุชูููุฑ ูุนุฑู ุงูุนููู ููุชุฌุฑู ุฃู ุนููุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูููุณุชุฎุฏู ุฃู ุฃู ุดูุก ูุญุฏุฏ ุงููุณุชุฎุฏู ุจุดูู ูุฑูุฏ ูู ุชุทุจููู. ูุฐุง ุงูุทุฑูู ูุณูุญ ูู ุจุชุชุจุน ุนูููุงุช ุชุดุบูู ุงูุฌูุณุฉ ุนุจุฑ ุงูููุช ูู ุญุงูุฉ ูุฌูุฏ ูุดููุฉ ุฎุงุตุฉ ูู ูููู ุฃุญุฏ ุจุงูุฅุจูุงุบ ุนููุง.

๐ก**ููุงุญุธุฉ ูููุณุชุฎุฏููู ุงูุฐูู ูุณุชุถูููู ุฐุงุชูู**: ุฅุฐุง ููุช ุชุณุชุฎุฏู ูุณุฎุฉ ุงููุถููุฉ ุงูุฎุงุตุฉ ุจู OpenReplayุ ูุณูุชุทูุจ ููู ุฃูุถูุง ุชุญุฏูุฏ ุฎุงุตูุฉ ุงูุชูููู "ingestPoint". ูุญุฏุฏ ูุฐุง ุงูุฎุตุงุฆุต ููุทุฉ ุงุณุชูุฑุงุฏ ูุจูุงูุงุช ุงููุญูู. ูุง ูุญุชุงุฌ ุงููุณุชุฎุฏููู ุงูุณุญุงุจููู ุฅูู ูุฐุงุ ูุฃูู ุจุดูู ุงูุชุฑุงุถู ุณูุนุฑู ุงููุญูู ุงูุขู ุฃูู ูู ููุทุฉ ุงุณุชูุฑุงุฏ ูุณุฎุฉ ุงูุฎุฏูุฉ ุงูุฎุงุตุฉ ุจุงูุณุญุงุจุฉุ ูููู ุฅุฐุง ููุช ุชุณุชุถููู ุฐุงุชูุ ูุณุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏู (ูุฌุจ ุฃู ูููู ุดูุฆูุง ูุซู "https://openreplay.mydomain.com/ingest")

### ุงูุชุนุงูู ูุน "projectKey" ูู ุงูููุฏ ุงูุฎุงุต ุจู

ูููุงุญุธุฉุ ูุฅู "projectKey" ุงูุฐู ุชููู ูุฏ ุชููู ูุฏ ุชููู ูุฏ ุชููู ูุฏ ุชููู ูุฏ ุชููู ูุฏ ุชููู ูุฏ ุชููู ูุฏ ุชููู ูุฏ ุชููู ูุฏ ุชููู ูุฏ ุชู
```jsx
import '../styles/globals.css'
import TrackerProvider from '../context/trackerContext'

function MyApp({ Component, pageProps }) {

  return <TrackerProvider>
        <Component {...pageProps} />
    </TrackerProvider>
}

export default MyApp
```
