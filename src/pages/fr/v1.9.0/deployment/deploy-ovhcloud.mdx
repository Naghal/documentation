---
titre: "Déployer sur OVHcloud"
metaTitle: "Déployer sur OVHcloud"
metaDescription: "Guide étape par étape pour déployer OpenReplay sur OVHcloud (serveur dédié, VPS, machine virtuelle Cloud Privé ou instance Cloud Public)."
layout: ~/layouts/MainLayout.astro
i18nReady: true
---

La pile OpenReplay peut être installée sur une seule machine et un serveur dédié OVHcloud, VPS, machine virtuelle Cloud Privé ou instance Cloud Public est un candidat idéal. Voici comment procéder.

## Commandez votre serveur ou lancez votre instance

Vous pouvez utiliser l'un des produits OVHcloud suivants pour déployer OpenReplay:

- Serveur dédié
- VPS
- Cloud Privé (à l'intérieur d'une machine virtuelle)
- Instance Cloud Public

Prérequis:

- Choisissez *Ubuntu Server 20.04 Focal Fossa* comme système d'exploitation.
- Les spécifications minimales pour la machine exécutant OpenReplay sont `2 vCPUs, 8 Go de RAM, 50 Go de stockage`, sinon les services backend OpenReplay ne démarreront tout simplement pas. Cela devrait suffire pour un volume faible / modéré. Si vous attendez un trafic élevé, vous devez partir de là.
- Une adresse IP publique pointant vers votre serveur / instance.

## Déployer OpenReplay

1. Assurez-vous que votre serveur / instance est démarré, puis connectez-vous à celui-ci via SSH en tant que root

2. Installez OpenReplay en fournissant le domaine sur lequel il sera exécuté (par exemple DOMAIN_NAME = openreplay.mycompany.com):


```bash
git clone https://github.com/openreplay/openreplay.git
cd openreplay/scripts/helmcharts
DOMAIN_NAME=openreplay.mycompany.com bash init.sh
```


## Configurer TLS / SSL

OpenReplay traite des données d'utilisateur sensibles et nécessite donc HTTPS pour fonctionner. C'est obligatoire, sinon le suivi ne commencerait tout simplement pas à enregistrer. La même chose s'applique au tableau de bord, sans HTTPS vous ne pourrez pas rejouer les sessions d'utilisateur.

Vous devez donc apporter (ou générer) votre propre certificat SSL.

1. Tout d'abord, allez dans votre panneau de contrôle OVHcloud dans «Web cloud»> «Noms de domaine»> votre domaine (c'est-à-dire mycompany.com)> «Zone DNS» (ou votre autre fournisseur de service DNS) et créez un enregistrement «A». Utilisez le domaine que vous avez fourni lors de l'étape d'installation et pointez-le vers le serveur / instance à l'aide de son adresse IP publique.

2. Si vous apportez votre propre certificat, créez un secret SSL à l'aide de la commande suivante: `kubectl create secret tls openreplay-ssl -n app --key="private_key_file.pem" --cert="certificate.crt"`.

> **Note:** Si vous n'avez pas de certificat, générez-en un, qui se renouvelle automatiquement, pour votre sous-domaine (celui fourni lors de l'installation) à l'aide de Let's Encrypt. Connectez-vous simplement au serveur / instance OpenReplay, exécutez `cd openreplay/scripts/helmcharts && bash certmanager.sh` et suivez les étapes.

3. Si vous souhaitez activer la redirection http vers https (recommandé), décommentez alors le bloc ci-dessous, dans la section `ingress-nginx`, dans `openreplay/scripts/helmcharts/vars.yaml`:


```yaml
ingress-nginx: &ingress-nginx
  controller:
    config:
      ssl-redirect: true
      force-ssl-redirect: true
```


Il vaut la peine de mentionner que notre `ingress-nginx` s'exécute par défaut sur les ports `80 | 443`, mais cela peut être facilement modifié, si nécessaire, dans `vars.yaml`:


```yaml
ingress-nginx: &ingress-nginx
  controller:
    service:
      ports:
        http: 80
        https: 443
```


4. Enfin, réinstallez OpenReplay NGINX:


```bash
cd openreplay/scripts/helmcharts && ./openreplay-cli -I
```

